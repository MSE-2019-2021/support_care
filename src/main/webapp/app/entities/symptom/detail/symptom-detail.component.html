<div class="row justify-content-center">
  <span class="col-8">
    <div *ngIf="symptom">
      <button type="submit" (click)="previousState()" class="btn button-transparent" data-cy="entityDetailsBackButton">
        <fa-icon class="list-text-color" icon="arrow-left"></fa-icon>&nbsp;<span class="list-text-color" customTranslate="entity.action.back">Back</span>
      </button>
      <button *customHasAnyAuthority="'ROLE_USER'" type="button" data-cy="entityEditButton" [routerLink]="['/symptom', symptom.id, 'edit']" class="btn btn-primary float-right button-create">
        <fa-icon icon="pencil-alt"></fa-icon>&nbsp;<span customTranslate="entity.action.edit">Edit</span>
      </button>
      <button *customHasAnyAuthority="'ROLE_USER'" type="submit" (click)="delete(symptom)" class="btn button-transparent float-right button-delete" data-cy="entityDeleteButton">
        <fa-icon class="red-icon" icon="trash"></fa-icon>
      </button>

      <h2 class="h2-color" data-cy="symptomDetailsHeading">{{ symptom.name }}</h2>
      <custom-alert-error></custom-alert-error>
      <custom-alert></custom-alert>

      <div class="bg-light div-detail-spacing">
        <h5 class="list-text-color-bold col-lg-12 mt-4 mb-4" customTranslate="supportivecareApp.symptom.generalInfo">General information</h5>
        <div class="form-group col-lg-9">
          <label class="form-control-label font-weight-bold" customTranslate="supportivecareApp.symptom.therapeuticRegime">Assigned Therapeutic Regimes</label>
          <p>
            <span *ngFor="let therapeuticRegime of symptom.therapeuticRegimes; let last = last">
              <a [routerLink]="['/therapeutic-regime', therapeuticRegime?.id, 'view']">{{ therapeuticRegime.name }}</a
              >{{ last ? '' : ', ' }}
            </span>
          </p>
        </div>

        <div class="form-group col-lg-9">
          <label class="form-control-label font-weight-bold" customTranslate="supportivecareApp.symptom.notice">Notice</label>
          <p>
            <span>{{ symptom.notice }}</span>
          </p>
        </div>

        <div class="form-group col-lg-9">
          <label class="form-control-label font-weight-bold" customTranslate="supportivecareApp.symptom.outcome">Outcome</label>
          <p>
            <span *ngFor="let outcome of symptom.outcomes; let last = last">
              <a [routerLink]="['/outcome', outcome?.id, 'view']">{{ outcome.name }}</a
              >{{ last ? '' : ', ' }}
            </span>
          </p>
        </div>
      </div>
      <span *ngFor="let toxicityRate of symptom.toxicityRates; let last = last">
        <ng-container *ngIf="toxicityRate.name && toxicityRate.name.length > 0">
          <ngb-accordion [closeOthers]="true">
            <ngb-panel>
              <ng-template ngbPanelHeader let-opened="opened">
                <div class="d-flex align-items-center justify-content-between">
                  <button ngbPanelToggle class="btn btn-link text-primary m-0">Intervenção Recomendada - {{ toxicityRate.name }}</button>
                  <fa-icon *ngIf="opened" class="text-primary p-0" icon="angle-up"> </fa-icon>
                  <fa-icon *ngIf="!opened" class="text-primary p-0" icon="angle-down"> </fa-icon>
                </div>
              </ng-template>
              <ng-template ngbPanelContent>
                <div class="form-group col-lg-12">
                  <label
                    class="form-control-label font-weight-bold"
                    customTranslate="supportivecareApp.toxicityRate.description"
                    [ngbTooltip]="'supportivecareApp.toxicityRate.description' | translate"
                    >description</label
                  >
                  <p>
                    <span>{{ toxicityRate.description }}</span>
                  </p>
                </div>
                <div class="form-group border col-lg-12">
                  <label class="form-control-label font-weight-bold" customTranslate="supportivecareApp.toxicityRate.notice" [ngbTooltip]="'supportivecareApp.toxicityRate.notice' | translate"
                    >notice</label
                  >
                  <p>
                    <span>{{ toxicityRate.notice }}</span>
                  </p>
                </div>
                <div class="form-group border col-lg-12">
                  <label
                    class="form-control-label font-weight-bold"
                    customTranslate="supportivecareApp.toxicityRate.autonomousIntervention"
                    [ngbTooltip]="'supportivecareApp.toxicityRate.autonomousIntervention' | translate"
                    >autonomousIntervention</label
                  >
                  <p>
                    <span>{{ toxicityRate.autonomousIntervention }}</span>
                  </p>
                </div>
                <div class="form-group border col-lg-12">
                  <label
                    class="form-control-label font-weight-bold"
                    customTranslate="supportivecareApp.toxicityRate.interdependentIntervention"
                    [ngbTooltip]="'supportivecareApp.toxicityRate.interdependentIntervention' | translate"
                    >interdependentIntervention</label
                  >
                  <p>
                    <span>{{ toxicityRate.interdependentIntervention }}</span>
                  </p>
                </div>
                <div class="form-group border col-lg-12">
                  <label
                    class="form-control-label font-weight-bold"
                    customTranslate="supportivecareApp.toxicityRate.selfManagement"
                    [ngbTooltip]="'supportivecareApp.toxicityRate.selfManagement' | translate"
                    >selfManagement</label
                  >
                  <p>
                    <span>{{ toxicityRate.selfManagement }}</span>
                  </p>
                </div>
              </ng-template>
            </ngb-panel>
          </ngb-accordion>
        </ng-container>
      </span>
    </div>
  </span>
</div>
